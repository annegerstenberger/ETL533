<!DOCTYPE html>
<html lang="en">
<head> <!--section of your HTML is the metadata zone — it doesn’t display on the page, but it tells the browser how to prepare and load the page.-->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Adventure of Wally - Responsive HTML CSS Template</title>
    

<!--
Page One Template
https://templatemo.com/tm-504-page-one
-->

  <!-- Preload hero image -->
  <link rel="preload" as="image" href="img/1_Landing.png">

    <!-- load stylesheets -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,400">  <!-- Google web font "Open Sans" -->          <!-- Font Awesome -->
    <link rel="stylesheet" href="css/bootstrap.min.css">                                      <!-- Bootstrap style -->                                   <!-- Magnific Popup -->
    <link rel="stylesheet" href="css/templatemo-style.css">     

                              <!-- Templatemo style -->

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
        <!--[if lt IE 9]>
          <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
          <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
          <![endif]-->
      </head>

      <body> <!--The visible stuff (your story, images, buttons, etc.) goes inside here-->

        <div class="container-fluid" id="main">
            <!-- Landing Page -->
            <section class="tm-section tm-section-home" id="home" style="background-image: url('img/1_Landing.png');">
                <div style="position: relative; width: 100%; height: 100%; min-height: 100vh;">
                  <div class="music-btn-container">
                    <button id="playMusicBtn">Start here</button>
                    <audio id="backgroundMusic" preload="auto" loop>
  <source src="img/HoliznaCC0-Death-trimmed.m4a" type="audio/mp4">
  
  <!-- Fallback text -->
  Your browser does not support HTML5 audio.
</audio>
                  </div>
                </div>
    </section> 
        
  <!-- Digital Story Section -->
<section id="story" class="tm-section story-section">
  <div class="tm-page-content-width">

    <!-- Image Block 1 -->

  <div class="story-block reveal">
      <img loading="lazy" decoding="async" src="img/2_Human.png" alt="Image 1" class="story-image">
</div>

    <!-- Image Block 2 -->
    <div class="story-block reveal">
      <img loading="lazy" decoding="async" src="img/3_Body.png" alt="Image 1" class="story-image">
      </div>

    <!-- Image Block 3 -->
    <div class="story-block reveal">
      <img loading="lazy" decoding="async" src="img/4_Bloodstream.png" alt="Image 1" class="story-image">
    </div>

    <!-- Image Block 4 -->
    <div class="story-block reveal">
      <img loading="lazy" decoding="async" src="img/5_skatepark.png" alt="Image 1" class="story-image">
    </div>

   

     

    <!-- Image Block 6 -->
    <div class="story-block reveal">
      <img loading="lazy" decoding="async" src="img/7_Alarm1.png" alt="Image 3" class="story-image">
    </div>
    
<!-- Image Block 7 -->
    <div class="story-block reveal" id="alarm-block">
  <div class="swap" aria-label="Before/After illustration">
    <img src="img/8_Alarm2.png" alt="Before">
    <img src="img/9_Alarm3.png"  alt="After">
  </div>
</div>

    <!-- Image Block 9 -->
    <div class="story-block reveal">
      <img loading="lazy" decoding="async" src="img/10_Alarm4.png" alt="Image 3" class="story-image">
      </div>

      <!-- Image Block 10 -->
    <div class="story-block reveal">
      <img loading="lazy" decoding="async" src="img/11_HumanHurt.png" alt="Image 3" class="story-image">
      </div>

      <!-- Image Block 11 -->
    <div class="story-block reveal">
      <img loading="lazy" decoding="async" src="img/12_SkateAccident.png" alt="Image 3" class="story-image">
      </div>

      <!-- Image Block 12-->
      <div class="story-block reveal">
      <img loading="lazy" decoding="async" src="img/13_Alarm5copy.png" alt="Image 3" class="story-image">
      </div>

      <!-- Image Block 13 -->
      <div class="story-block reveal">
      <img loading="lazy" decoding="async" src="img/14_Nucleus.jpg" alt="Image 3" class="story-image">
      </div>

      <!-- Image Block 14 -->
      <div class="story-block reveal">
      <img loading="lazy" decoding="async" src="img/15_Mitos.jpg" alt="Image 3" class="story-image">
      </div>

      <!-- Image Block 15 -->
      <div class="story-block reveal">
      <img loading="lazy" decoding="async" src="img/16_Lysosomes.jpg" alt="Image 3" class="story-image">
      </div>

      <!-- Image Block 16 -->
      <div class="story-block reveal">
      <img loading="lazy" decoding="async" src="img/18_WallyontheWay.png" alt="Image 3" class="story-image">
      </div>

      <!-- Image Block 17 -->
      <div class="story-block reveal">
      <img loading="lazy" decoding="async" src="img/19_OnSite.png" alt="Image 3" class="story-image">
      </div>

      <!-- Image Block 18 -->
      <div class="story-block reveal">
      <img loading="lazy" decoding="async" src="img/20_Phago1.png" alt="Image 3" class="story-image">
      </div>

      <!-- Image Block 19 -->
      <div class="story-block reveal">
      <img loading="lazy" decoding="async" src="img/21_Phago2.png" alt="Image 3" class="story-image">
      </div>

      <!-- Image Block 20 -->
      <div class="story-block reveal">
      <img loading="lazy" decoding="async" src="img/22_Phago3.png" alt="Image 3" class="story-image">
      </div>

      <!-- Image Block 21 -->
      <div class="story-block reveal">
      <img loading="lazy" decoding="async" src="img/23_Phago4.png" alt="Image 3" class="story-image">
      </div>

      <!-- Image Block 22 -->
    <div class="story-block reveal">
      <img loading="lazy" decoding="async" src="img/24_Party.png" alt="Image 3" class="story-image">
      </div>

      <!-- Image Block 23 -->
      <div class="story-block reveal">
      <img loading="lazy" decoding="async" src="img/25_Humancopy.png" alt="Image 3" class="story-image">
      </div>

    <!-- Add more blocks as needed -->

  </div>
</section>
         

         
       <!-- load JS files -->
<script src="js/jquery-1.11.3.min.js"></script>


<script>
  // Smooth scrolling
  $(document).ready(function () {
    $('a[href*="#"]').not('[href="#"]').not('[href="#0"]').click(function(event) {
      if (
        location.pathname.replace(/^\//, '') == this.pathname.replace(/^\//, '') &&
        location.hostname == this.hostname
      ) {
        var target = $(this.hash);
        target = target.length ? target : $('[name=' + this.hash.slice(1) + ']');
        if (target.length) {
          event.preventDefault();
          $('html, body').animate({
            scrollTop: target.offset().top
          }, 600, function() {
            var $target = $(target);
            $target.focus();
            if (!$target.is(":focus")) {
              $target.attr('tabindex','-1');
              $target.focus();
            }
          });
        }
      }
    });
  });

  // Text-to-Speech
  function speakText(elementId) {
    const element = document.getElementById(elementId);
    const text = element.innerText || element.textContent;
    const utterance = new SpeechSynthesisUtterance(text);
    speechSynthesis.speak(utterance);
  }

  // Quiz checker (optional)
  function checkAnswer() {
    const form = document.getElementById('quiz-form');
    const result = document.getElementById('result');
    const selectedInput = form.querySelector('input[name="answer"]:checked');
    const selected = selectedInput ? selectedInput.value : null;

    if (!selected) {
      result.textContent = "Please select an answer!";
      result.style.color = "red";
      return;
    }

    if (selected === "Paris") {
      result.textContent = "Correct! 🎉";
      result.style.color = "green";
    } else {
      result.textContent = "Wrong. Try again!";
      result.style.color = "red";
    }
  }
</script>
<!-- Footer -->
<footer class="tm-footer">
  <div class="tm-copyright-div">
     <a href="https://creativecommons.org/licenses/by-nc-nd/4.0/">
  <img loading="lazy" decoding="async" src="img/footer-logo.png" alt="Logo" />
</a>
    <p class="tm-copyright-text">
      &copy; <span class="tm-current-year">2025</span> Anne Gerstenberger.<br>
      This work is licensed under a <br> Creative Commons Attribution-NonCommercial-NoDerivs 4.0 International License.<br>
      <a href="https://example.com">Design: TemplateMo</a>
    </p>
  </div>
</footer>
<script>
const playBtn = document.getElementById('playMusicBtn');
const music = document.getElementById('backgroundMusic');

playBtn.addEventListener('click', () => {
  music.volume = 1; // start at full volume
  music.play();
  playBtn.style.display = 'none'; // hide the button after playing
});

// Listen for scroll events
window.addEventListener('scroll', () => {
  if (!music.paused) {
    const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
    const maxScroll = 2000; 
    let volume = 1 - scrollTop / maxScroll;
    volume = Math.max(0, Math.min(1, volume)); // clamp between 0 and 1
    music.volume = volume;
  }
});
</script>
<script>
document.addEventListener('DOMContentLoaded', function () {
  const items = document.querySelectorAll('.reveal');

  // Track scroll direction
  let lastY = window.pageYOffset || document.documentElement.scrollTop;
  let scrollingDown = true;
  window.addEventListener('scroll', () => {
    const y = window.pageYOffset || document.documentElement.scrollTop;
    scrollingDown = y > lastY;
    lastY = y;
  }, { passive: true });

  if (!('IntersectionObserver' in window)) {
    items.forEach(el => el.classList.add('is-visible'));
    return;
  }

  const io = new IntersectionObserver((entries) => {
    const vh = window.innerHeight || document.documentElement.clientHeight;

    entries.forEach(entry => {
      const el = entry.target;
      const rect = entry.boundingClientRect;

      if (entry.isIntersecting) {
        // Entering viewport: only animate when scrolling DOWN
        if (scrollingDown && rect.top > 0) {
          el.classList.add('is-visible');
        }
      } else {
        // Not intersecting: decide when to reset for next time
        const leftAtTop = rect.bottom <= 0;      // element is above the viewport
        const leftAtBottom = rect.top >= vh;     // element is below the viewport

        // Case 1: scrolled DOWN past it → reset
        if (scrollingDown && leftAtTop) {
          el.classList.remove('is-visible');
        }

        // Case 2: scrolled UP above it (so it's now below) → reset
        if (!scrollingDown && leftAtBottom) {
          el.classList.remove('is-visible');
        }
      }
    });
  }, {
    root: null,
    rootMargin: '0px 0px -30% 0px',  // tweak if you want earlier/later start
    threshold: 0.12
  });

  items.forEach((el, i) => {
    // Optional tiny stagger
    el.style.transitionDelay = ((i % 4) * 80) + 'ms';
    io.observe(el);
  });
});
</script>
<!-- Alarm SFX (looping, but we’ll fade/pause it via JS) https://pixabay.com/sound-effects/siren-327233/ -->
<audio id="alarmSfx" preload="auto" loop>
  <source src="img/siren-327233.mp3" type="audio/mpeg">
  <!-- optional: <source src="audio/alarm.ogg" type="audio/ogg"> -->
</audio>
<script>
// Smooth volume fade helper
function fadeVolume(audio, to = 0, duration = 600) {
  const from = audio.volume || 0;
  const start = performance.now();
  if (to > 0 && audio.paused) {
    // try to start playback; if blocked, the user hasn't interacted yet
    audio.play().catch(() => {});
  }
  function step(now) {
    const t = Math.min(1, (now - start) / duration);
    const v = from + (to - from) * t;
    audio.volume = Math.max(0, Math.min(1, v));
    if (t < 1) {
      requestAnimationFrame(step);
    } else if (to === 0) {
      // fully faded out: stop so it doesn't keep “playing silently”
      audio.pause();
      audio.currentTime = 0;
    }
  }
  requestAnimationFrame(step);
}

document.addEventListener('DOMContentLoaded', function () {
  const alarmBlock = document.getElementById('alarm-block');
  const alarm = document.getElementById('alarmSfx');
  if (!alarmBlock || !alarm) return;

  // start silent
  alarm.volume = 0;

  // Observe visibility of the alarm block
  const io = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        // In view → fade in to comfortable level (tweak 0.35–0.5)
        fadeVolume(alarm, 0.4, 500);
      } else {
        // Out of view (up or down) → fade out, then pause
        fadeVolume(alarm, 0, 500);
      }
    });
  }, {
    root: null,
    // Trigger a hair before it's fully in view; tweak to taste
    rootMargin: '0px 0px -10% 0px',
    threshold: 0.25
  });

  io.observe(alarmBlock);
});
</script>
</body>
</html>