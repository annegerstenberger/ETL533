/* =========================================================
   THEME TOKENS & GLOBALS
   ========================================================= */
:root{
  --brand:#983333;
  --brand-hover:#c9302c;
  --accent:#97D3E8;
  --footer-bg:#97D2E8;
  --text:#ce4ecc69;
}

*{ box-sizing:border-box; }
html,body{
  margin:0;
  padding:0;
  overflow-x:hidden;
  background:#fff;
  color:var(--text);
  font-family:'Open Sans', Helvetica, Arial, sans-serif;
  font-size:21px;
  line-height:1.8;
}
a{ text-decoration:none; }
a:focus,button:focus{ outline:none; }
.container-fluid{ padding-left:0; padding-right:0; overflow-x:hidden; }

/* all text boxes (when you add --panel) */
.overlay-text--panel{
  background: rgba(141, 177, 235, 0);   /* ← change this */
  /* examples:
     background: #ffffff;              // solid
     background: rgba(255,255,255,.85);// semi-transparent
     background: linear-gradient(180deg, rgba(0,0,0,.6), rgba(0,0,0,.35));
  */
  backdrop-filter: blur(2px);     /* optional glassy look */
}

/* =========================================================
   HERO (ABOVE THE FOLD)
   ========================================================= */
.tm-section{ background-position:center center; background-repeat:no-repeat; }
.tm-section-home{
  background-attachment:fixed;   /* light parallax (desktop) */
  background-size:cover;
  min-height:100vh;
}
@media (max-width:1024px){
  .tm-section-home{ background-attachment:scroll; }
}

/* Music button */
.music-btn-container{
  position:absolute; left:30px; bottom:30px; z-index:10;
}
#playMusicBtn{
  padding:12px 28px; font-size:1.2rem; background:var(--accent); color:#fff;
  border:none; border-radius:6px; box-shadow:0 2px 8px rgba(0,0,0,.12); cursor:pointer;
}
#playMusicBtn:hover{ background:var(--brand-hover); }

/* =========================================================
   STORY SECTION (FULL-BLEED STRIPS)
   ========================================================= */
.story-section{ padding:0; }
.tm-page-content-width{ max-width:1200px; margin:0 auto; padding:0 15px; }

.story-block{
  position:relative;         /* needed for overlays */
  overflow:visible;          /* don't clip reveal animation */
  margin-bottom:10px;        /* the intentional white gap */
  text-align:center;
  width:100vw; max-width:100vw;
  margin-left:calc(-50vw + 50%);  /* full-bleed */
  margin-right:calc(-50vw + 50%);
  line-height:0;             /* avoid stray gaps */
}
.story-image{
  display:block; margin:0;
  width:100vw; max-width:100vw; height:auto;
  aspect-ratio:16/9; object-fit:cover;
}
/* =========================================================
   Scroll reveal: slide child image up into place 
   ========================================================= */

.story-block.reveal .story-image{
  transform:translateY(50px); /* start the image 32px LOWER than its final spot (pushed down) */
  transition:transform 900ms cubic-bezier(.22,1,.36,1); /* animate ONLY the transform property over 900ms with a “snappy” easing curve */
  will-change:transform;
}
.story-block.reveal.is-visible .story-image{ transform:translateY(0); } /* move the image to its final, natural position */

/* =========================================================
   IMAGE WITH CENTERED OVERLAY TEXT
   ========================================================= */
.image-overlay-block{
  position:relative; overflow:visible; margin-bottom:10px;
  width:100vw; max-width:100vw;
  margin-left:calc(-50vw + 50%); margin-right:calc(-50vw + 50%);
}
/* Wrapper must be positioning context */
.image-overlay-block { position: relative; 
}

/* Base: look only (no position) */
.overlay-text{
  position: absolute;
  color: #000000;
  padding: 20px;
  border-radius: 8px;
  max-width: 90%;
  /* no top/left/transform here */
}
/* Solid border */
.overlay-text--bordered{
  border: 2px solid #010101;   /* color + thickness */
  border-radius: 12px;         /* keep your rounded corners */
}
.overlay-text h2{ margin:0 0 10px; font-size:28px; }
.overlay-text p{ font-size:18px; line-height:1.5; }

/* optionally reveal the overlay image the same way */
.image-overlay-block.reveal img{
  transform:translateY(32px);
  transition:transform 900ms cubic-bezier(.22,1,.36,1);
}
.image-overlay-block.reveal.is-visible img{ transform:translateY(0); }


/* position variants */
.overlay-text--center  { top:50%; left:50%; transform:translate(-50%, -50%); }
.overlay-text--top-left  { top:200px;  left:100px;  transform:none; }
.overlay-text--top-right { top:300px;  right: 200px; transform:none; }
.overlay-text--bottom-left  { bottom:16px; left:16px;  transform:none; }
.overlay-text--bottom-right { bottom: 80px; right:100px; transform:none; }


/* =========================================================
   SWAP / CROSS-FADE (TWO IMAGES) ALARM ANIMATION 
   ========================================================= */
.swap{
  position:relative; overflow:hidden; line-height:0;
  width:100vw; max-width:100vw; aspect-ratio:16/9;
  margin-left:calc(-50vw + 50%); margin-right:calc(-50vw + 50%);
}
.swap img{
  position:absolute; inset:0; width:100%; height:100%;
  object-fit:cover; opacity:0; will-change:opacity;
}
.swap img:nth-child(1){ animation:fadeA 1s infinite; }
.swap img:nth-child(2){ animation:fadeB 1s infinite; }
@keyframes fadeA{ 0%,40%{opacity:1} 55%,100%{opacity:0} }
@keyframes fadeB{ 0%,40%{opacity:0} 55%,100%{opacity:1} }



/* =========================================================
   FOOTER
   ========================================================= */
.tm-footer{
  background:var(--footer-bg);
  width:100%; padding:150px 0 40px 0;
  position:relative; z-index:2; text-align:center;
}
.tm-copyright-div{ color:#f5f5f6; padding:30px 0; width:100%; }
.tm-copyright-text{ font-size:1.18rem; margin:0; font-weight:300; text-align:left; padding-left:16px; }
.tm-copyright-text a{ color:#fff; }

/* =========================================================
   UTILITIES Reusable BUTTONS
   ========================================================= */
.tm-btn{
  display:inline-block; font-size:1.1rem; color:#fff; background:var(--brand);
  padding:10px 18px; border:0; border-radius:6px;
}
.tm-btn:hover{ background:var(--brand-hover); }

/* =========================================================
   RESPONSIVE TWEAKS
   ========================================================= */
@media (max-width:767px){
  .overlay-text{ padding:14px; }
  .overlay-text h2{ font-size:22px; }
  .overlay-text p{ font-size:16px; }
}

/* =========================================================
   REDUCED MOTION (A11Y)
   ========================================================= */
@media (prefers-reduced-motion:reduce){
  .story-block.reveal .story-image,
  .image-overlay-block.reveal img{
    transform:none !important; transition:none !important;
  }
  .swap img{ animation:none !important; }
  .swap img:nth-child(2){ display:none; }
}
/* =========================================================
  Glossary Card (popup)
   ========================================================= */
.glossary-card{
  position: fixed; inset: 0; display: none;
  background: rgba(0,0,0,.55);
  z-index: 9999;
}
.glossary-card:target{ display: grid; place-items: center; }

.glossary-card__panel{
  position: relative;
  width: min(560px, 90vw);
  max-height: 80vh; overflow: auto;
  background: #fff; color: #222;
  border-radius: 14px; padding: 20px 24px;
  box-shadow: 0 20px 60px rgba(0,0,0,.35);
}
.glossary-card__panel h3{ margin: 0 0 .5rem; }
.glossary-card__panel p{ margin: 0 0 .75rem; }

.glossary-card__close{
  position: absolute; top: 10px; right: 14px;
  font-size: 28px; text-decoration: none; color: #666;
}
.glossary-card__close:hover{ color: #000; }

/* Optional: prevent background scroll while a card is open (modern browsers) */
body:has(.glossary-card:target){ overflow: hidden; }

/* Optional: style for inline links */
a.gloss-link{ text-decoration: underline; }
